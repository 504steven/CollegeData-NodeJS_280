<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>HOME</title>
        <link rel="stylesheet" href="/css/style.css"/>
        <link rel="stylesheet" href="/css/jquery-ui.css"/>
        <script type="text/javascript" src="/js/jquery.js"></script>
        <script type="text/javascript" src="/js/jquery-ui.js"></script>
        <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
        <script type="text/javascript" src="/js/onload.js"></script>
        <script type="text/javascript">
            var url = "http://localhost:3000/aveExpense";
            var doc = [];
            $.get(url, function (data, status) {
                if (status != 'success') {
                    console.log("get summarized data failed :" + status);
                } else {
                    console.log("get summarized data :" + status);
                    doc = data;
                    google.charts.setOnLoadCallback(drawChart);
                }
            });
            google.charts.load('current', {'packages': ['bar']});

            function drawChart() {
                var data = google.visualization.arrayToDataTable([
                    ['Location', 'Public', 'Private'],
                    ['urban', doc.public_urban_ave, doc.private_urban_ave],
                    ['suburban', doc.public_suburban_ave, doc.private_suburban_ave],
                    ['small town', doc.public_smallTown_ave, doc.private_smallTown_ave],
                    ['small city', doc.public_smallCity_ave, doc.private_smallCity_ave]
                ]);

                var options = {
                    chart: {
                        title: 'Average Expense($) for 164 College/University',
                        subtitle: 'Location, Ownership',
                    },
                    bars: 'vertical',
                    vAxis: {format: 'decimal'},
                    height: 220,
                    width: 550,
                    // colors: ['#d95f02', '#7570b3'],
                    colors: ['#88B972', '#2B4520'],
                    backgroundColor: {
                        fill: '#EEEEEE',
                        fillOpacity: 0.7
                    }
                };
                var chart = new google.charts.Bar(document.getElementById('expense_chart_div'));
                chart.draw(data, google.charts.Bar.convertOptions(options));
            }
        </script>
    </head>

    <body>
        <!-- navigator division -->
        <div id="navigatorDiv">
            <ul>
                <li><a>Dashboard</a></li>
                <li style="float:right"><a class="navigatorBar" href="/home">Back</a></li>
            </ul>
        </div>

        <div id="contentDiv">
            <table class="searchPage">
                <tr>
                    <td>
                        <div id="expense_chart_div"></div>
                        * Expense is majored affected by ownership, not locations.
                    </td>
                    <td>
                        <div id="admitRateChart"></div>
                        chart 2
                    </td>
                </tr>
                <tr>
                    <td>
                        <div></div>
                        chart 3
                    </td>
                    <td>
                        <div></div>
                        chart 4
                    </td>
                </tr>
            </table>
        </div>

        <!-- footer division -->
        <div id="footerDiv"></div>
    </body>
</html>
