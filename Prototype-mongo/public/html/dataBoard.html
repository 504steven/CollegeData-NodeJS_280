<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <div id="chart_div"></div>

    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
        var url = "http://localhost:3000/dataSummary";
        var doc=[];
        $.get(url, function(data, status) {
            if(status != 'success') {
                console.log("get summarized data failed :" + status);
            }else {
                console.log("get summarized data :" + status);
                doc = data;
                google.charts.setOnLoadCallback(drawChart);
            }
        });


        google.charts.load('current', {'packages':['bar']});

        function drawChart() {
            var data = google.visualization.arrayToDataTable([
                ['Location', 'Public', 'Private'],
                ['urban', doc.public_urban_ave, doc.private_urban_ave],
                ['suburban', doc.public_suburban_ave, doc.private_suburban_ave],
                ['small town', doc.public_smallTown_ave, doc.private_smallTown_ave],
                ['small city', doc.public_smallCity_ave, doc.private_smallCity_ave]
            ]);

            var options = {
                chart: {
                    title: 'Average Expense($) for 164 College/University',
                    subtitle: 'Location, Ownership',
                },
                bars: 'vertical',
                vAxis: {format: 'decimal'},
                height: 400,
                colors: ['#d95f02', '#7570b3']
            };
            var chart = new google.charts.Bar(document.getElementById('chart_div'));
            chart.draw(data, google.charts.Bar.convertOptions(options));
        }
    </script>

</body>
</html>